"use strict";var googleMap=googleMap||{},google=google;googleMap.addInfoWindowForCamera=function(o,a){var e=this;google.maps.event.addListener(a,"click",function(){e.infoWindow=new google.maps.InfoWindow({content:'<img src="http://www.tfl.gov.uk/tfl/livetravelnews/trafficcams/cctv/'+o.file+'"><p>'+o.location+"</p>"}),e.infoWindow.open(e.map,a),e.map.setCenter(a.getPosition()),e.map.setZoom(15)})},googleMap.createMarkerForCamera=function(o){var a=new google.maps.LatLng(o.lat,o.lng),e=new google.maps.Marker({position:a,map:this.map,animation:google.maps.Animation.DROP,icon:"../images/marker.png"});this.addInfoWindowForCamera(o,e)},googleMap.loopThroughCameras=function(o){$.each(o.cameras,function(o,a){setTimeout(function(){googleMap.createMarkerForCamera(a)},40*o)})},googleMap.getCameras=function(){$.get("http://localhost:3000/cameras").done(this.loopThroughCameras)},googleMap.mapSetup=function(){var o=document.getElementById("map-canvas"),a={zoom:12,center:new google.maps.LatLng(51.506178,(-.088369)),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(o,a),this.getCameras()},$(googleMap.mapSetup.bind(googleMap));